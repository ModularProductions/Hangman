
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=utf-8">
<title>Hangman</title>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

<!-- Latest compiled and minified JavaScript -->
<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script> -->
<!-- <link href="stylesheet.css" rel="stylesheet" type="text/css"> -->
</head>
<body lang="en-US">
  <div class="container">
    <div class="jumbotron" style="text-align: center">
      <div id="game">...</div>
      <h1 id="title"></h1>
      <p id="maskedWord"></p>
      <p id="alertDisplay"></p>
      <p id="usedLetters"></p>
      <p id="strikes"></p>
      <p><a class="btn btn-primary btn-lg" href="javascript:history.go(0)" role="button">Start a New Game</a></p>
    </div>
  </div>
  <script type="text/javascript">

/*  To do list...
    ADD START SCREEN
    BREAK INPUT WATCH (do...while loop crashed browser)
    SANITIZE INPUTS FOR SOFTCORE
    maybe ADD HARDCORE OPTION after winning first game?
*/

    var dictionary = ["survivor","directory","wisecrack","survival","application","parachute","innocent","consideration","discover","cylinder","liability","majority","circumstance","flatware","interrupt","transfer","skeleton","craftsman","multimedia","hardship","implicit","compound","inhabitant","finished","depressed","reduction","triangle","fountain","correspondence","unanimous","umbrella","elaborate","revolutionary","confrontation","horseshoe","opponent","manufacturer","undermine","director","sentence","patience","expression","competition","flourish","feminist","important","anticipation","disappoint","unpleasant","dressing","emphasis","difference","astonishing","insurance","ostracize","policeman","microphone","shareholder","handicap","eliminate","orthodox","experiment","photograph","volunteer","transition","horoscope","compartment","ambiguity","presidency","scenario","reinforce","advertise","classroom","prevalence","expenditure","conception","abstract","theorist","domestic","disgrace","ministry","attitude","computer","corruption","communication","weakness","beginning","conflict","electronics","convulsion","personality","simplicity","midnight","accompany","reaction","necklace","publisher","potential","intelligence","worthless","door","needless","pathetic","stain","loaf","splendid","grumpy","puny","rainy","interfere","impartial","uppity","humorous","purpose","workable","thrill","nail","periodic","vein","warn","lively","religion","jittery","merciful","snow","relax","gratis","defiant","innocent","skinny","laugh","elated","silk","turkey","collar","sneaky","jazzy","punishment","canvas","cute","examine","unsightly","duck","fail","cushion","produce","hunt","cute","ring","cat","jellyfish","rabbits","entertain","itchy","outstanding","race","bead","art","committee","bless","ready","birthday","grin","load","noiseless","replace","gamy","serious","tow","day","effect","faint","resonant","book","wall","mere","consist","hop","solid","clean","seat","elastic","apparatus","quilt","scold","dinosaurs","rinse","rot","panicky","sable","credit","sigh","honorable","correct","unwieldy"];

    var usedLetters = [];
    var currentWord = [];
    var maskedWord;
    var alertDisplay = "<p>Waiting on you, chief.</p>";
    var usedDisplay = "";
    var strikes = 0;
    var userInput = "";
    var hardcore;

    var title = "<h1>Hangman</h1>";
    if (confirm("Are you truly HARD CORE?")) {
      hardcore = true;
      title = "<h1>Hardcore Hangman<h1>";
    }

    // select word from dictionary
    var selectWord = dictionary[Math.floor(Math.random() * dictionary.length)];

    console.log(selectWord);
    
    // create currentWord array from selectWord
    for (i = 0 ; i < selectWord.length ; i++) {
      var letter = selectWord.charAt(i).toUpperCase();
      currentWord.push(letter);
    };
    console.log("initial currentWord: " + currentWord);

    function displayRenders() {
      maskedWord = "";
      for (i = 0; i < currentWord.length; i++) {
        if (usedLetters.includes(currentWord[i])) {
          maskedWord = maskedWord + currentWord[i].toUpperCase() + " ";
        } else {
          maskedWord = maskedWord + "_ ";
        }
      };
      console.log("initial maskedWord: " + maskedWord);
      usedDisplay = "";
      if (hardcore) {
        usedDisplay = "Your last pick was '" + userInput.toUpperCase() + "'."
      } else for (i = 0 ; i < usedLetters.length; i++) {
        usedDisplay = usedDisplay + usedLetters[i].toUpperCase() + " ";
      };
    };

    displayRenders();

    html =
        "<h1>" + title + "</h1>" +
        "<p>" + maskedWord + "</p>" +
        alertDisplay +
        "<p>Used Letters: You ain't picked nothin'.</p>" + 
        "<p>Strikes: " + strikes + " / 7</p>";
    document.querySelector("#game").innerHTML = html;  

    document.onkeyup = function(event) {
      
      userInput = event.key.toUpperCase();

      if (!usedLetters.includes(userInput)) {
        usedLetters.push(userInput);
        usedLetters = usedLetters.sort();
        if (!currentWord.includes(userInput)) {
          strikes++;
          alertDisplay = "<p>Nope, you're one step closer to stretching!</p>";
        } else {
          alertDisplay = "<p>Good choice!</p>";
        };
      } else {
        alertDisplay = "<p>You've already used that letter!</p>";
        if (hardcore) {strikes++;};
      };
      displayRenders();

      html =
        "<h1>" + title + "</h1>" +
        "<p>" + maskedWord + "</p>" +
        alertDisplay +
        "<p>Used Letters: " + usedDisplay + "</p>" + 
        "<p>Strikes: " + strikes + " / 7</p>";

      document.querySelector("#game").innerHTML = html;  

      // loss screen
      if (strikes === 7) {
        var unMaskedWord = "";
        for (i = 0; i < currentWord.length; i++) {
            unMaskedWord = unMaskedWord + currentWord[i].toUpperCase() + " ";
        };

        // hide solution from hardcore player
        if (hardcore) {unMaskedWord = alertDisplay;};

        html =
        "<h1>" + title + "</h1>" +
        "<p>" + maskedWord + "</p>" + // string declarations like this can't include expressions, can they?
        "<p>" + unMaskedWord + "</p>" +
        "<p>Used Letters: " + usedDisplay + "</p>" + 
        "<p>Strikes: " + strikes + " / 7</p>" +
        "<h2>You have met your deserved justice.</h2>";
      }
      
      // win screen
      else if (!maskedWord.includes("_")) {
        html =
        "<h1>" + title + "</h1>" +
        "<p>" + maskedWord + "</p>" +
        alertDisplay +
        "<p>Used Letters: " + usedDisplay + "</p>" + 
        "<p>Strikes: " + strikes + " / 7</p>" +
        "<h2>You've escaped justice.</h2>";
      };


      document.querySelector("#game").innerHTML = html;
      document.querySelector("#title").innerHTML = title; // remove h1 tags from title variable
      document.querySelector("#maskedWord").innerHTML = maskedWord;
      document.querySelector("#alertDisplay").innerHTML = alertDisplay;
      document.querySelector("#usedLetters").innerHTML = usedLetters;
      document.querySelector("#strikes").innerHTML = strikes + " / 7";
    }  
  </script>
</body>
</html>
